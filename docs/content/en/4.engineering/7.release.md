---
title: Release & Rollback
description: Merge, release cadence, and rollback procedures.
---

# Merge, Release & Rollback Workflow

Shipping software is only half the battle. This page defines how code moves from an approved PR to a production release, and how to respond when things go wrong.

## Merge Strategy

| Merge Type       | When to Use                                                                 |
| :--------------- | :-------------------------------------------------------------------------- |
| **Squash Merge** | Default for `feature/*` → `develop`. Creates a clean, single commit.        |
| **Merge Commit** | For `release/*` → `main` or `hotfix/*` → `main`. Preserves release history. |
| **Rebase**       | For syncing a feature branch with `develop`. Keeps linear history.          |

### Squash Merge Best Practices

- Craft a meaningful commit message that summarizes the entire PR.
- Reference the original issue or ticket number.

## Release Cadence

| Environment    | Cadence                            | Source Branch         |
| :------------- | :--------------------------------- | :-------------------- |
| **Staging**    | Continuous (on merge to `develop`) | `develop`             |
| **Production** | Scheduled (e.g., bi-weekly)        | `release/*` or `main` |
| **Hotfix**     | On-demand (emergency only)         | `hotfix/*`            |

## Release Process

::steps

### 1. Create Release Branch

Branch from `develop` as `release/x.y.z` (e.g., `release/1.5.0`).

### 2. Stabilization

Only bug fixes are allowed on the release branch. No new features.

### 3. QA Sign-off

QA team validates the release candidate in the staging environment.

### 4. Merge to Main

Merge the release branch into `main` via Merge Commit.

### 5. Tag the Release

Create a Git tag (e.g., `v1.5.0`) on the merge commit.

### 6. Deploy to Production

Trigger the production deployment pipeline.

### 7. Merge Back to Develop

Merge `main` back into `develop` to incorporate any release fixes.
::

## Hotfix Process

Hotfixes are for critical production issues that cannot wait for the next release.

::steps

### 1. Branch from Main

Create `hotfix/description` from `main`.

### 2. Fix & Test

Implement the fix with appropriate tests.

### 3. Expedited Review

Get at least 2 approvals with urgency flagged.

### 4. Merge to Main

Merge via Merge Commit.

### 5. Deploy Immediately

Trigger production deployment.

### 6. Merge to Develop

Merge the hotfix into `develop` to keep branches in sync.
::

## Rollback Procedure

When a release causes production issues:

### Option 1: Revert Commit

- Create a revert commit that undoes the problematic changes.
- Deploy the revert.
- Investigate and fix in a new PR.

### Option 2: Redeploy Previous Version

- If the issue is severe, redeploy the last known good version.
- Tag the failed release as `vX.Y.Z-broken`.
- Investigate and release a fix as a hotfix.

### Rollback Responsibility

| Role             | Responsibility                            |
| :--------------- | :---------------------------------------- |
| On-call Engineer | Initiate rollback if metrics degrade.     |
| Release Manager  | Coordinate communication and post-mortem. |
| Original Author  | Assist with diagnosis and fix.            |

## Post-Release Monitoring

After every production release:

- Monitor error rates and latency for 30-60 minutes.
- Check logs for unexpected exceptions.
- Verify key user flows are functional.

## Post-Mortem Culture

If a release causes an incident:

- **No Blame**: Focus on systems, not individuals.
- **Document**: Write a post-mortem within 48 hours.
- **Action Items**: Identify concrete improvements.
