---
title: Pull Request Rules
description: PR size limits, structure, and mandatory fields.
---

# Pull Request (PR) Rules & Discipline

Pull Requests are the primary mechanism for code integration. A well-structured PR is easier to review, less likely to introduce bugs, and faster to merge. This page defines the rules for creating effective PRs.

## PR Size Limits

Large PRs are the enemy of quality. They are hard to review, easy to miss bugs in, and slow down the entire team.

### Hard Limits

| Metric                  | Limit       | Rationale                                             |
| :---------------------- | :---------- | :---------------------------------------------------- |
| **Files Changed**       | ≤ 10 files  | Keeps cognitive load manageable.                      |
| **Lines of Code (LOC)** | ≤ 500 lines | Studies show review quality drops sharply above this. |

### Soft Limits (Ideal)

| Metric            | Target      |
| :---------------- | :---------- |
| **Files Changed** | ≤ 5 files   |
| **Lines of Code** | ≤ 300 lines |

### Exceptions

Exceptions (e.g., large generated files, schema migrations) must be explicitly justified in the PR description.

## PR Structure

Every PR must follow the standard template. This ensures reviewers have the context they need.

### Mandatory PR Template

```markdown
## Summary

<!-- What problem is solved? What was changed? -->

## How to Test

<!-- Steps for a reviewer to verify the changes. -->

## Risk Level

- [ ] Low (routine change, well-tested)
- [ ] Medium (new logic, requires careful review)
- [ ] High (security, data migration, core infrastructure)

## AI Usage

- [ ] AI-assisted code was used in this PR.

## Checklist

- [ ] Tests added/updated
- [ ] Documentation updated (if applicable)
- [ ] No lint errors
- [ ] Self-reviewed the diff
```

## When to Split PRs

If your changes fall into multiple categories, they should be separate PRs.

| Category A                       | Category B            | Split? |
| :------------------------------- | :-------------------- | :----- |
| Refactoring                      | New Feature           | ✅ Yes |
| Infrastructure (e.g., DB config) | Business Logic        | ✅ Yes |
| AI-Generated Code                | Manually-Written Code | ✅ Yes |
| Bug Fix                          | Unrelated Cleanup     | ✅ Yes |

### Why Splitting Matters

- **Easier Rollback**: If one part breaks, you can revert without losing everything.
- **Clearer Ownership**: Each PR has a single purpose and owner.
- **Faster Reviews**: Small, focused PRs get reviewed faster.

## Single Responsibility Principle

::prose-note
**Golden Rule**: One PR = One Thing. If you can't summarize the PR in a single sentence, it's too big.
::

## Draft PRs

Use **Draft PRs** for:

- Work-in-progress that needs early feedback.
- Large changes that will be split before final review.
- Experimental code that may not be merged.

Draft PRs should not be approved or merged.

## PR Hygiene

- **Rebase Before Review**: Keep your branch up-to-date with the target branch.
- **Resolve Conflicts Early**: Don't let conflicts pile up.
- **Respond to Feedback Promptly**: Stale PRs slow down the team.
- **Close Abandoned PRs**: If a PR is no longer relevant, close it.
