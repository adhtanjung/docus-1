---
title: Code Review Workflow
description: Review requirements, focus areas, and approval workflow.
---

# Code Review Workflow

Code review is the final human gate before code enters the shared codebase. It is critical for catching bugs, ensuring maintainability, and spreading knowledge across the team.

## Review Requirements

### Minimum Approvals

| Target Branch | Minimum Reviewers |
| :------------ | :---------------- |
| `main`        | 2 approvals       |
| `develop`     | 1 approval        |
| `release/*`   | 2 approvals       |

### Domain Ownership

Certain modules have designated **Code Owners**. PRs touching these modules require approval from the owner.

| Module                          | Owner(s)           |
| :------------------------------ | :----------------- |
| `src/modules/core/auth`         | Security Team      |
| `src/modules/core/organization` | Core Platform Team |
| `prisma/` (Schema)              | Database Lead      |
| `src/common/guards`             | Security Team      |

## The Golden Rule

::prose-note
**No PR is merged without human approval â€” including AI-generated code.** Automation can assist, but humans make the final call.
::

## Review Focus Areas

Reviewers should explicitly evaluate the following areas:

### 1. Correctness & Edge Cases

- Does the code do what it claims to do?
- Are boundary conditions handled (nulls, empty arrays, max values)?
- Are error paths covered?

### 2. Readability & Maintainability

- Is the code easy to understand?
- Are names clear and consistent?
- Is there unnecessary complexity or over-engineering?

### 3. Security Implications

- Is user input validated?
- Are there potential injection vulnerabilities?
- Is authentication/authorization correctly applied?

### 4. Test Coverage

- Are there tests for the new logic?
- Do existing tests still pass?
- Is negative/failure case testing included?

### 5. AI Hallucinations (for AI-Assisted PRs)

- Does the code reference APIs or methods that don't exist?
- Are there patterns that seem "plausible but wrong"?
- Is the code overly complex for the problem being solved?

## Review Etiquette

### For Reviewers

- **Be Specific**: Point to the exact line and explain the issue.
- **Suggest Alternatives**: Don't just say "this is wrong"; offer a solution.
- **Distinguish Nits from Blockers**: Use labels like `[nit]` for minor suggestions.
- **Review Promptly**: Aim to review within 24 hours.

### For Authors

- **Don't Take It Personally**: Feedback is about the code, not you.
- **Explain Your Reasoning**: If you disagree, explain why.
- **Address All Comments**: Don't leave feedback unresolved.
- **Say Thank You**: Reviewing is work; acknowledge it.

## Approval Workflow

1.  **Author creates PR** and requests reviewers.
2.  **Reviewers add comments** (Approve, Request Changes, or Comment).
3.  **Author addresses feedback** and pushes updates.
4.  **Reviewers re-review** updated code.
5.  **Final Approval** is given when all concerns are resolved.
6.  **Author merges** (or designated maintainer).

## Blocking Reviews

A review can be **blocking** (Request Changes) for the following reasons:

- Critical bug or incorrect logic.
- Security vulnerability.
- Missing tests for core logic.
- Violation of architectural principles.

Non-blocking feedback (e.g., style preferences, minor refactors) should be marked as `[nit]` and resolved at the author's discretion.
