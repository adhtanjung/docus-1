---
title: Environment Configuration
description: Complete guide to HAER environment variables.
navigation:
  icon: i-lucide-settings
seo:
  title: Environment Configuration - HAER HCM
  description: Detailed guide to configuring environment variables for HAER API and HAER Web.
---

# Environment Configuration

HAER uses environment variables to manage configurations across different environments.

---

## Backend Configuration (haer-api-core-pf)

### Core Configuration

| Variable | Description | Default | Required |
| :--- | :--- | :--- | :---: |
| PORT | API server port | 3005 | No |
| DATABASE_URL | PostgreSQL connection string | - | Yes |
| JWT_SECRET | Secret key for JWT tokens | - | Yes |
| JWT_EXPIRES_IN | JWT token expiration | 24h | No |
| SEED_AUDIT_SYSTEM | Seed initial audit data | false | No |

::prose-tip
DATABASE_URL format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
::

### Multi-Tenancy

| Variable | Description | Default |
| :--- | :--- | :--- |
| DEFAULT_TENANT_ID | Default tenant ID for seeding | - |
| DEFAULT_WORKSPACE_ID | Default workspace ID for seeding | - |
| TENANT_HEADER_NAME | Header name for tenant ID | x-tenant-id |
| WORKSPACE_HEADER_NAME | Header name for workspace ID | x-workspace-id |

### Observability (OpenTelemetry)

| Variable | Description | Default |
| :--- | :--- | :--- |
| OTEL_ENABLED | Enable/disable OpenTelemetry | true |
| OTEL_SERVICE_NAME | Service name in traces | haer-api |
| OTEL_EXPORTER_OTLP_ENDPOINT | OTLP exporter endpoint | http://localhost:4318 |
| LOKI_HOST | Grafana Loki endpoint | - |

### Logging

| Variable | Description | Values |
| :--- | :--- | :--- |
| LOG_LEVEL | Logging verbosity | debug, info, warn, error |
| NODE_ENV | Environment mode | development, production |

### Example Backend .env

```bash [.env]
PORT=3005
DATABASE_URL=postgresql://postgres:password@localhost:5432/haer?schema=public
JWT_SECRET=your-super-secret-jwt-key-change-this
JWT_EXPIRES_IN=24h
NODE_ENV=development
SEED_AUDIT_SYSTEM=true
LOG_LEVEL=debug
OTEL_ENABLED=true
OTEL_SERVICE_NAME=haer-api-dev
```

---

## Frontend Configuration (haer-web)

### Core Configuration

| Variable | Description | Default | Required |
| :--- | :--- | :--- | :---: |
| NUXT_PUBLIC_API_BASE_URL | Backend API URL | http://localhost:3005 | Yes |
| NUXT_PUBLIC_APP_NAME | Application display name | HAER HCM | No |
| NUXT_PUBLIC_APP_VERSION | Application version | - | No |
| NUXT_PUBLIC_DEFAULT_LOCALE | Default language | en | No |

### Example Frontend .env

```bash [.env]
NUXT_PUBLIC_API_BASE_URL=http://localhost:3005
NUXT_PUBLIC_APP_NAME=HAER HCM
NUXT_PUBLIC_APP_VERSION=1.0.0
NUXT_PUBLIC_DEFAULT_LOCALE=en
```

---

## Docker Configuration

```yaml [docker-compose.yml]
version: '3.8'
services:
  haer-api:
    build: ./haer-api-core-pf
    ports:
      - "3005:3005"
    environment:
      - DATABASE_URL=postgresql://postgres:password@postgres:5432/haer
      - JWT_SECRET=your-secret-key
      - NODE_ENV=production
    depends_on:
      - postgres
  
  haer-web:
    build: ./haer-web
    ports:
      - "3030:3030"
    environment:
      - NUXT_PUBLIC_API_BASE_URL=http://haer-api:3005
    depends_on:
      - haer-api
  
  postgres:
    image: postgres:16-alpine
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
      - POSTGRES_DB=haer
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

---

## Best Practices

::card-group
  :::card
  ---
  icon: i-lucide-lock
  title: Never Commit Secrets
  ---
  Keep .env files in .gitignore. Use secret management systems in production.
  :::

  :::card
  ---
  icon: i-lucide-check-circle
  title: Validate on Startup
  ---
  HAER validates required variables at startup.
  :::

  :::card
  ---
  icon: i-lucide-key
  title: Strong JWT Secret
  ---
  Use at least 32 characters for JWT_SECRET.
  :::

  :::card
  ---
  icon: i-lucide-shield
  title: Production SSL
  ---
  Always use HTTPS in production.
  :::
::

---

## Generating Secure Secrets

**Node.js**:
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

**OpenSSL**:
```bash
openssl rand -hex 32
```

**PowerShell**:
```powershell
[Convert]::ToBase64String((1..32|ForEach-Object{[byte](Get-Random -Max 256)}))
```
